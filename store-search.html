<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>store-search</title>
</head>

<body>
  <div class="container">
    <h1>Search stores by medicine availability</h1>

    {{> fileUploadForm}}

    {{> prescription}}

    <form class="form-inline search-form">
      <input type="text" id="search-box" class="form-control has-success has-feedback" placeholder="Medicine name..." />
      <input type="text" id="quantity" class="form-control" placeholder="Quantity..." />
      <input type="submit" class="btn btn-primary" value="Add" />
    </form>

    {{> medicinesList}}
    {{> storesList}}
  </div>
</body>

<template name="medicinesList">
  <ul class="list-group col-md-6">
    {{#each medicines}}
      {{> medicine}}
    {{/each}}
  </ul>
</template>

<template name="medicine">
  <li class="list-group-item">
    {{name}}
  </li>
</template>

<template name="fileUploadForm">
  <div class="file-upload-form clearfix">
    <div class="form-group">
      <label class="control-label" for="store-file-input">Upload stores file (.csv)</label>
      <input type="file" id="store-file-input" class="form-control" />
    </div>
    <div class="form-group">
      <label class="control-label" for="medicine-file-input">Upload medicines file (.csv)</label>
      <input type="file" id="medicine-file-input" class="form-control" />
    </div>
    <button id="upload-button" class="btn btn-primary pull-right">Upload</button>
  </div>
</template>

<template name="prescription">
  <table class="table table-hover">
    <thead>
      <tr>
        <th>Drug Name</th>
        <th>Quantity</th>
        <th></th>
      </tr>
    </thead>
    <tbody>
      {{#each medicines}}
        <tr>
          <td>{{name}}</td>
          <td>{{quantity}}</td>
          <td>
            <button type="button" class="close delete" aria-label="Delete"><span aria-hidden="true">&times;</span></button>
          </td>
        </tr>
      {{/each}}
    </tbody>
  </table>
</template>

<template name="storesList">
  <ul class="list-unstyled col-md-6" id="stores-list">
    {{#each stores}}
      {{> store}}
    {{/each}}
  </ul>
</template>

<template name="store">
  <li>
    <p>
      <strong>{{storeName}}</strong><br />
      {{#each stock}}
        {{medicineName}} <span class="badge">{{quantity}}</span>
      {{/each}}
      <!-- ({{lat}}, {{lng}})<br /> -->
      <!-- {{address.street}}<br /> -->
      <!-- {{address.postalCode}} {{address.city}}, {{address.country}}<br /> -->
    </p>
  </li>
</template>
